# SAGE 输出目录管理简化

## 变更说明

之前的设计使用符号链接将项目根目录的 `.sage/` 链接到 `~/.sage/`，目的是集中管理所有SAGE项目的中间结果。但这种设计带来了不必要的复杂性：

### 之前的问题：
1. **符号链接创建失败** - 当 `.sage/` 目录已存在且不为空时，会出现警告
2. **复杂的迁移逻辑** - 需要处理现有目录内容的迁移
3. **平台兼容性** - 符号链接在不同操作系统上表现不一致
4. **调试困难** - 符号链接增加了路径解析的复杂性

### 新的简化方案：
1. **直接使用本地目录** - 所有中间结果直接存储在项目根目录的 `.sage/` 下
2. **用户可选的集中存储** - 如果用户需要，可以手动创建符号链接
3. **简化的代码逻辑** - 移除所有符号链接管理代码
4. **更好的可预测性** - 路径行为更加直观和可靠

### 目录结构：
```
项目根目录/
├── .sage/                    # 所有中间结果（本地存储）
│   ├── logs/                # 测试日志
│   ├── reports/             # 测试报告
│   ├── temp/                # 临时文件
│   ├── coverage/            # 覆盖率报告
│   └── benchmarks/          # 基准测试结果
├── packages/
└── ...
```

### 如果用户希望集中存储：
用户可以手动创建符号链接：
```bash
# 备份现有的 .sage 目录（如果有的话）
mv .sage ~/.sage-backup

# 创建符号链接
ln -s ~/.sage .sage

# 如果需要，恢复备份的内容
cp -r ~/.sage-backup/* ~/.sage/
```

### 受影响的组件：
- `enhanced_test_runner.py` - 移除符号链接依赖
- `one_click_setup.py` - 移除符号链接依赖
- `sage_home.py` - 保留工具函数，但不强制使用

### 好处：
1. ✅ **无警告** - 不再出现符号链接创建失败的警告
2. ✅ **简化维护** - 减少了代码复杂性
3. ✅ **更好的可靠性** - 避免了符号链接相关的各种边缘情况
4. ✅ **保持兼容性** - 现有的路径使用方式完全不变

## 迁移指南

对于现有用户：
1. **无需任何操作** - 代码会自动使用本地 `.sage/` 目录
2. **如果希望集中存储** - 可以参考上述手动创建符号链接的方法
3. **清理旧的符号链接** - 如果之前有符号链接，可以安全地删除并重新创建为普通目录